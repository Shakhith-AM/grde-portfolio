<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GRDE Engine ‚Äî An Architect's Blueprint for Wealth</title>
    <meta name="description" content="GRDE Framework: Gold, Real Estate, Debt, Equity ‚Äî Age-based portfolio allocation engine by Shakhith A.M.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background: #0f172a; font-family: 'Poppins', sans-serif; }
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type="number"] { -moz-appearance: textfield; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
        #root { min-height: 100vh; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
const { useState, useEffect, useCallback, useRef } = React;


// ‚îÄ‚îÄ‚îÄ GRDE Master Data ‚îÄ‚îÄ‚îÄ
const AGE_BANDS = [
  { range: "25-30", G: 7, R: 15, D: 13, E: 65 },
  { range: "30-35", G: 8, R: 15, D: 17, E: 60 },
  { range: "35-40", G: 8, R: 15, D: 20, E: 57 },
  { range: "40-45", G: 9, R: 15, D: 21, E: 55 },
  { range: "45-50", G: 10, R: 15, D: 25, E: 50 },
  { range: "50-55", G: 10, R: 15, D: 25, E: 50 },
  { range: "55-60", G: 11, R: 14, D: 35, E: 40 },
  { range: "60-65", G: 12, R: 13, D: 45, E: 30 },
  { range: "65-70", G: 13, R: 12, D: 50, E: 25 },
  { range: "70-75", G: 14, R: 11, D: 52, E: 23 },
  { range: "75-80", G: 15, R: 10, D: 53, E: 22 },
];

const ASSET_TEMPLATE = [
  { id: "g1", cat: "G", name: "Gold ETFs", splitPct: 90, finalPct: 0, desc: "Physical gold-backed ETFs" },
  { id: "g2", cat: "G", name: "Silver ETFs", splitPct: 10, finalPct: 0, desc: "Silver-backed ETFs" },
  { id: "r1", cat: "R", name: "REITs", splitPct: 60, finalPct: 0, desc: "Office / Retail / Mixed-use REITs" },
  { id: "r2", cat: "R", name: "InvITs", splitPct: 40, finalPct: 0, desc: "Infrastructure Investment Trusts" },
  { id: "d1", cat: "D", name: "Liquidity", splitPct: 33.3, finalPct: 0, desc: "Liquid / Ultra-short funds" },
  { id: "d2", cat: "D", name: "Capital Protection", splitPct: 33.3, finalPct: 0, desc: "FD / POMIS / PPF" },
  { id: "d3", cat: "D", name: "Income / Duration", splitPct: 33.4, finalPct: 0, desc: "Bonds / Target maturity funds" },
  { id: "e1", cat: "E", name: "Indian Mutual Funds", splitPct: 32.5, finalPct: 0, desc: "Domestic MFs (65% √ó 50%)" },
  { id: "e2", cat: "E", name: "Indian ETFs", splitPct: 32.5, finalPct: 0, desc: "Domestic equity ETFs (65% √ó 50%)" },
  { id: "e3", cat: "E", name: "US Equity / ETFs", splitPct: 35, finalPct: 0, desc: "International equity exposure" },
];

const CAT_META = {
  G: { label: "GOLD & SILVER", color: "#eab308", tag: "The Hedge" },
  R: { label: "REAL ESTATE", color: "#ef4444", tag: "The Rent" },
  D: { label: "DEBT", color: "#3b82f6", tag: "The Defense" },
  E: { label: "EQUITY", color: "#22c55e", tag: "The Engine" },
};

const CATS = ["G", "R", "D", "E"];

function getAllocation(age) {
  if (age < 25) return AGE_BANDS[0];
  if (age >= 80) return AGE_BANDS[AGE_BANDS.length - 1];
  const idx = Math.min(Math.floor((age - 25) / 5), AGE_BANDS.length - 1);
  return AGE_BANDS[idx];
}

function getBand(age) {
  if (age < 25) return "25-30";
  if (age >= 80) return "75-80";
  const lo = Math.floor(age / 5) * 5;
  return `${lo}-${lo + 5}`;
}

function fmtINR(val) {
  if (!val && val !== 0) return "‚Äî";
  const n = Math.abs(Number(val));
  // Indian number formatting
  if (n >= 10000000) return `${(val < 0 ? "-" : "")}‚Çπ${(n / 10000000).toFixed(2)} Cr`;
  if (n >= 100000) return `${(val < 0 ? "-" : "")}‚Çπ${(n / 100000).toFixed(2)} L`;
  return `${(val < 0 ? "-" : "")}‚Çπ${n.toLocaleString("en-IN", { maximumFractionDigits: 0 })}`;
}

// ‚îÄ‚îÄ‚îÄ Components ‚îÄ‚îÄ‚îÄ

function LogoDots({ size = 8 }) {
  const colors = ["#ef4444", "#eab308", "#22c55e", "#3b82f6"];
  return (
    <div style={{ display: "grid", gridTemplateColumns: "1fr 1fr", gap: size * 0.25, width: size * 2.5, height: size * 2.5 }}>
      {colors.map((c, i) => (
        <div key={i} style={{ width: size, height: size, borderRadius: "50%", background: c }} />
      ))}
    </div>
  );
}

function Header() {
  return (
    <header style={{
      background: "#0c1425", padding: "14px 28px", display: "flex", alignItems: "center", justifyContent: "space-between",
      borderBottom: "1px solid #1e293b"
    }}>
      <div style={{ display: "flex", alignItems: "center", gap: 14 }}>
        <LogoDots size={9} />
        <div>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 700, fontSize: 15, color: "#f1f5f9" }}>
            Portfolio: GRDE Engine
          </div>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 300, fontSize: 8, color: "#64748b", letterSpacing: 2.5, textTransform: "uppercase" }}>
            An Architect's Blueprint for Wealth
          </div>
        </div>
      </div>
      <div style={{ display: "flex", alignItems: "center", gap: 10 }}>
        <div style={{
          background: "#1e293b", border: "1px solid #334155", borderRadius: 14, padding: "5px 14px",
          fontFamily: "'Poppins', sans-serif", fontSize: 11, color: "#f1f5f9"
        }}>
          IN India (‚Çπ) ‚ñæ
        </div>
        <div style={{
          background: "#7c2d12", borderRadius: 12, padding: "4px 12px",
          fontFamily: "'Poppins', sans-serif", fontWeight: 700, fontSize: 10, color: "#fb923c"
        }}>
          v2.1
        </div>
      </div>
    </header>
  );
}

function TabBar({ active, onChange, isUnlocked }) {
  const tabs = [
    { id: "allocator", label: "Allocator", locked: false },
    { id: "tracker", label: "Portfolio Tracker", locked: !isUnlocked },
    { id: "isr", label: "ISR Analysis", locked: !isUnlocked },
  ];
  return (
    <div style={{
      display: "inline-flex", background: "#1a2744", borderRadius: 16, padding: 3, margin: "20px 0 0 0"
    }}>
      {tabs.map(t => (
        <button
          key={t.id}
          onClick={() => onChange(t.id)}
          style={{
            background: active === t.id ? "#3b82f6" : "transparent",
            color: active === t.id ? "#fff" : "#64748b",
            border: "none", borderRadius: 13, padding: "7px 18px", cursor: "pointer",
            fontFamily: "'Poppins', sans-serif", fontWeight: 500, fontSize: 12,
            display: "flex", alignItems: "center", gap: 5, transition: "all 0.2s"
          }}
        >
          {t.label}
          {t.locked && <span style={{ fontSize: 10 }}>üîí</span>}
        </button>
      ))}
    </div>
  );
}

function CategoryCard({ cat, pct }) {
  const m = CAT_META[cat];
  return (
    <div style={{
      background: "#162032", border: "1px solid #334155", borderRadius: 10, padding: "16px 8px 12px",
      textAlign: "center", flex: 1, minWidth: 100, transition: "transform 0.2s, box-shadow 0.2s",
    }}
    onMouseEnter={e => { e.currentTarget.style.transform = "translateY(-2px)"; e.currentTarget.style.boxShadow = `0 4px 20px ${m.color}22`; }}
    onMouseLeave={e => { e.currentTarget.style.transform = "translateY(0)"; e.currentTarget.style.boxShadow = "none"; }}
    >
      <div style={{ fontFamily: "'Lora', serif", fontSize: 28, color: m.color, fontWeight: 600 }}>{cat}</div>
      <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 9, color: "#64748b", letterSpacing: 1, marginTop: 2 }}>{m.label}</div>
      <div style={{ fontFamily: "'Lora', serif", fontSize: 22, color: m.color, marginTop: 8, fontWeight: 500 }}>{pct}%</div>
      <div style={{ width: "60%", height: 3, background: "#2d3a4f", borderRadius: 2, margin: "8px auto 0", overflow: "hidden" }}>
        <div style={{ width: `${(pct / 55) * 100}%`, height: "100%", background: m.color, borderRadius: 2 }} />
      </div>
    </div>
  );
}

function DonutChart({ data, size = 180 }) {
  const cx = size / 2, cy = size / 2, r = size * 0.42, inner = size * 0.26;
  let cumulative = 0;
  const paths = data.map(({ pct, color }) => {
    const startAngle = (cumulative / 100) * 360 - 90;
    cumulative += pct;
    const endAngle = (cumulative / 100) * 360 - 90;
    const start = { x: cx + r * Math.cos((startAngle * Math.PI) / 180), y: cy + r * Math.sin((startAngle * Math.PI) / 180) };
    const end = { x: cx + r * Math.cos((endAngle * Math.PI) / 180), y: cy + r * Math.sin((endAngle * Math.PI) / 180) };
    const largeArc = pct > 50 ? 1 : 0;
    const iStart = { x: cx + inner * Math.cos((endAngle * Math.PI) / 180), y: cy + inner * Math.sin((endAngle * Math.PI) / 180) };
    const iEnd = { x: cx + inner * Math.cos((startAngle * Math.PI) / 180), y: cy + inner * Math.sin((startAngle * Math.PI) / 180) };
    const d = `M ${start.x} ${start.y} A ${r} ${r} 0 ${largeArc} 1 ${end.x} ${end.y} L ${iStart.x} ${iStart.y} A ${inner} ${inner} 0 ${largeArc} 0 ${iEnd.x} ${iEnd.y} Z`;
    return <path key={color} d={d} fill={color} stroke="#1e293b" strokeWidth={2} />;
  });
  return <svg width={size} height={size} viewBox={`0 0 ${size} ${size}`}>{paths}</svg>;
}

function GaugeChart({ value, size = 200 }) {
  const cx = size / 2, cy = size * 0.55, r = size * 0.38;
  const segments = [
    { start: 180, end: 144, color: "#ef4444" }, { start: 144, end: 126, color: "#f97316" },
    { start: 126, end: 90, color: "#eab308" }, { start: 90, end: 54, color: "#84cc16" },
    { start: 54, end: 0, color: "#22c55e" },
  ];
  const needleAngle = 180 - (value / 100) * 180;
  const needleRad = (needleAngle * Math.PI) / 180;
  const nx = cx + (r - 12) * Math.cos(needleRad);
  const ny = cy - (r - 12) * Math.sin(needleRad);

  return (
    <svg width={size} height={size * 0.65} viewBox={`0 0 ${size} ${size * 0.65}`}>
      {segments.map((s, i) => {
        const s1 = ((180 - s.start) * Math.PI) / 180, s2 = ((180 - s.end) * Math.PI) / 180;
        const x1 = cx + r * Math.cos(s1), y1 = cy - r * Math.sin(s1);
        const x2 = cx + r * Math.cos(s2), y2 = cy - r * Math.sin(s2);
        const la = s.start - s.end > 180 ? 1 : 0;
        return <path key={i} d={`M ${x1} ${y1} A ${r} ${r} 0 ${la} 1 ${x2} ${y2}`} fill="none" stroke={s.color} strokeWidth={10} strokeLinecap="round" />;
      })}
      <line x1={cx} y1={cy} x2={nx} y2={ny} stroke="#f1f5f9" strokeWidth={2.5} strokeLinecap="round" />
      <circle cx={cx} cy={cy} r={5} fill="#f1f5f9" />
    </svg>
  );
}

function HorizontalBar({ label, pct, targetPct, color, maxPct = 55 }) {
  return (
    <div style={{ display: "flex", alignItems: "center", gap: 10, marginBottom: 12 }}>
      <div style={{ width: 80, fontFamily: "'Poppins', sans-serif", fontSize: 11, color: "#94a3b8", textAlign: "right" }}>{label}</div>
      <div style={{ flex: 1, position: "relative", height: 22 }}>
        <div style={{ position: "absolute", inset: 0, background: "#1e293b", borderRadius: 4 }} />
        <div style={{
          position: "absolute", top: 0, left: 0, bottom: 0, width: `${(pct / maxPct) * 100}%`,
          background: color, borderRadius: 4, display: "flex", alignItems: "center", paddingLeft: 8, minWidth: 32
        }}>
          <span style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 700, fontSize: 9, color: "#fff" }}>{pct.toFixed(1)}%</span>
        </div>
        {targetPct && (
          <div style={{
            position: "absolute", top: -4, bottom: -4, left: `${(targetPct / maxPct) * 100}%`,
            width: 1, borderLeft: "2px dashed rgba(255,255,255,0.3)"
          }} />
        )}
      </div>
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ LOCK OVERLAY ‚îÄ‚îÄ‚îÄ
function LockOverlay({ onUnlock }) {
  const [showPayment, setShowPayment] = useState(false);
  const [selectedPlan, setSelectedPlan] = useState("annual");
  const [processing, setProcessing] = useState(false);

  const plans = {
    monthly: { label: "‚Çπ299/mo", amount: 29900, desc: "Monthly ‚Ä¢ Cancel anytime", period: "monthly" },
    annual: { label: "‚Çπ2,499/yr", amount: 249900, desc: "Annual ‚Ä¢ Save ‚Çπ1,089/yr", period: "annual" },
  };

  const handleRazorpayCheckout = () => {
    const plan = plans[selectedPlan];
    setProcessing(true);

    // ‚îÄ‚îÄ‚îÄ RAZORPAY CHECKOUT ‚îÄ‚îÄ‚îÄ
    // Replace 'rzp_test_XXXXXXXXXXXX' with your actual Razorpay Key ID
    // For testing: use Razorpay Test Mode key from Dashboard ‚Üí Settings ‚Üí API Keys
    // For production: use Live Mode key

    const options = {
      key: "rzp_test_XXXXXXXXXXXX",  // ‚Üê YOUR RAZORPAY KEY ID HERE
      amount: plan.amount,  // Amount in paise (29900 = ‚Çπ299)
      currency: "INR",
      name: "GRDE Engine",
      description: selectedPlan === "monthly" ? "GRDE Engine ‚Äî Monthly Subscription" : "GRDE Engine ‚Äî Annual Subscription (Save ‚Çπ1,089)",
      image: "",  // Optional: your logo URL
      // order_id: "order_XXXXX",  // ‚Üê In production: create order via backend API first
      handler: function (response) {
        // Payment successful!
        // response.razorpay_payment_id ‚Äî save this
        // response.razorpay_order_id ‚Äî if using orders
        // response.razorpay_signature ‚Äî verify on backend

        console.log("Payment successful:", response.razorpay_payment_id);

        // In production: verify payment on your backend before unlocking
        // For now: unlock directly
        setProcessing(false);
        onUnlock();
      },
      prefill: {
        name: "",
        email: "",
        contact: "",
      },
      notes: {
        plan: selectedPlan,
        product: "grde_engine_v2.1",
      },
      theme: {
        color: "#3b82f6",
      },
      modal: {
        ondismiss: function () {
          setProcessing(false);
        },
      },
    };

    // Check if Razorpay script is loaded
    if (typeof window !== "undefined" && window.Razorpay) {
      const rzp = new window.Razorpay(options);
      rzp.open();
    } else {
      // Razorpay script not loaded ‚Äî fallback
      alert(
        "Razorpay checkout loading...\n\n" +
        "To enable payments:\n" +
        "1. Add this script to your HTML <head>:\n" +
        '   <script src="https://checkout.razorpay.com/v1/checkout.js"><\/script>\n\n' +
        "2. Replace 'rzp_test_XXXXXXXXXXXX' in the code with your Razorpay Key ID\n\n" +
        "Simulating success for testing..."
      );
      setProcessing(false);
      onUnlock();
    }
  };

  return (
    <div style={{
      position: "absolute", inset: 0, zIndex: 50, display: "flex", flexDirection: "column", alignItems: "center",
      justifyContent: "center", backdropFilter: "blur(8px)", background: "rgba(15,23,42,0.85)", borderRadius: 12
    }}>
      <div style={{
        background: "#1e293b", border: "1px solid #334155", borderRadius: 16, padding: "36px 44px",
        textAlign: "center", maxWidth: 420, boxShadow: "0 20px 60px rgba(0,0,0,0.5)"
      }}>
        <div style={{ fontSize: 48, marginBottom: 12 }}>üîí</div>
        <h3 style={{ fontFamily: "'Lora', serif", fontSize: 22, color: "#f1f5f9", margin: "0 0 8px" }}>
          Unlock Full Access
        </h3>
        <p style={{ fontFamily: "'Poppins', sans-serif", fontSize: 12, color: "#94a3b8", lineHeight: 1.6, margin: "0 0 20px" }}>
          Enter your actual holdings, track variances against GRDE targets, and generate professional PDF reports to discuss with your financial advisor.
        </p>
        <div style={{
          background: "#0f172a", borderRadius: 10, padding: 16, marginBottom: 20, border: "1px solid #2d3a4f"
        }}>
          <div style={{ display: "flex", justifyContent: "space-around" }}>
            {[
              { icon: "üìä", label: "Full Tracker" },
              { icon: "üìÑ", label: "PDF Reports" },
              { icon: "üîÑ", label: "Rebalancing" },
              { icon: "üìà", label: "ISR Analysis" },
            ].map(f => (
              <div key={f.label} style={{ textAlign: "center" }}>
                <div style={{ fontSize: 20 }}>{f.icon}</div>
                <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 8, color: "#64748b", marginTop: 4 }}>{f.label}</div>
              </div>
            ))}
          </div>
        </div>

        {!showPayment ? (
          <div>
            <button
              onClick={() => setShowPayment(true)}
              style={{
                background: "linear-gradient(135deg, #3b82f6, #2563eb)", color: "#fff", border: "none",
                borderRadius: 10, padding: "12px 32px", fontSize: 14, fontWeight: 600, cursor: "pointer",
                fontFamily: "'Poppins', sans-serif", width: "100%", transition: "transform 0.15s",
              }}
              onMouseEnter={e => e.currentTarget.style.transform = "scale(1.02)"}
              onMouseLeave={e => e.currentTarget.style.transform = "scale(1)"}
            >
              Unlock for ‚Çπ299/month
            </button>
            <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b", marginTop: 8 }}>
              or ‚Çπ2,499/year (save ‚Çπ1,089) ‚Ä¢ Cancel anytime
            </div>
          </div>
        ) : (
          <div>
            {/* Plan Selection */}
            <div style={{ display: "flex", gap: 8, marginBottom: 14 }}>
              {Object.entries(plans).map(([key, plan]) => (
                <button
                  key={key}
                  onClick={() => setSelectedPlan(key)}
                  style={{
                    flex: 1, background: selectedPlan === key ? "#0f172a" : "#1e293b",
                    border: selectedPlan === key ? "2px solid #3b82f6" : "1px solid #334155",
                    borderRadius: 10, padding: "12px 10px", cursor: "pointer",
                    transition: "all 0.2s"
                  }}
                >
                  <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 700, fontSize: 16, color: selectedPlan === key ? "#3b82f6" : "#94a3b8" }}>
                    {plan.label}
                  </div>
                  <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 9, color: "#64748b", marginTop: 2 }}>
                    {plan.desc}
                  </div>
                  {key === "annual" && (
                    <div style={{
                      fontFamily: "'Poppins', sans-serif", fontSize: 8, color: "#22c55e", marginTop: 4,
                      background: "#22c55e15", padding: "2px 8px", borderRadius: 4, display: "inline-block"
                    }}>
                      BEST VALUE ‚Äî Save ‚Çπ1,089/yr
                    </div>
                  )}
                </button>
              ))}
            </div>

            {/* Pay Button */}
            <button
              onClick={handleRazorpayCheckout}
              disabled={processing}
              style={{
                background: processing ? "#334155" : "linear-gradient(135deg, #22c55e, #16a34a)",
                color: "#fff", border: "none", borderRadius: 10,
                padding: "12px 24px", fontSize: 13, fontWeight: 600,
                cursor: processing ? "wait" : "pointer",
                fontFamily: "'Poppins', sans-serif", width: "100%",
                transition: "transform 0.15s",
                boxShadow: processing ? "none" : "0 4px 15px rgba(34,197,94,0.3)"
              }}
            >
              {processing ? "Processing..." : `Pay ${plans[selectedPlan].label} ‚Äî Proceed to Checkout`}
            </button>

            {/* Security note */}
            <div style={{ display: "flex", alignItems: "center", justifyContent: "center", gap: 6, marginTop: 10 }}>
              <span style={{ fontSize: 10 }}>üîí</span>
              <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 9, color: "#64748b" }}>
                Secured by Razorpay ‚Ä¢ UPI, Cards, Net Banking accepted
              </span>
            </div>

            <button
              onClick={() => setShowPayment(false)}
              style={{
                background: "transparent", color: "#64748b", border: "none",
                padding: "8px", fontSize: 11, cursor: "pointer", fontFamily: "'Poppins', sans-serif", marginTop: 6
              }}
            >
              ‚Üê Back
            </button>
          </div>
        )}
      </div>
    </div>
  );
}


// ‚îÄ‚îÄ‚îÄ TAB: ALLOCATOR ‚îÄ‚îÄ‚îÄ
function AllocatorTab() {
  const [age, setAge] = useState(50);
  const alloc = getAllocation(age);
  const band = getBand(age);

  return (
    <div>
      <div style={{ marginBottom: 6 }}>
        <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b", letterSpacing: 2, textTransform: "uppercase" }}>
          Age-Based Risk Engine
        </div>
        <h2 style={{ fontFamily: "'Lora', serif", fontSize: 26, color: "#f1f5f9", margin: "6px 0 4px", fontWeight: 500 }}>
          Target Allocation
        </h2>
        <p style={{ fontFamily: "'Poppins', sans-serif", fontSize: 12, color: "#94a3b8", lineHeight: 1.5, margin: 0 }}>
          Adjust your age to see how the GRDE framework adapts. Younger investors tilt toward equity for growth; older investors shift toward stability assets for peace of mind.
        </p>
      </div>

      {/* Age Slider Card */}
      <div style={{
        background: "#1e293b", border: "1px solid #334155", borderRadius: 12, padding: "24px 28px", margin: "18px 0"
      }}>
        <div style={{ display: "flex", alignItems: "baseline", gap: 10, marginBottom: 20 }}>
          <span style={{ fontFamily: "'Lora', serif", fontSize: 42, color: "#f1f5f9", fontWeight: 600 }}>{age}</span>
          <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 14, color: "#94a3b8" }}>years old</span>
          <span style={{
            fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#3b82f6", background: "#1e3a5f",
            padding: "3px 10px", borderRadius: 8, marginLeft: 10
          }}>Band: {band}</span>
        </div>
        <div style={{ position: "relative", margin: "0 0 10px" }}>
          <div style={{
            position: "absolute", top: 6, left: 0, right: 0, height: 6, borderRadius: 3,
            background: "linear-gradient(to right, #22c55e 0%, #22c55e 45%, #eab308 55%, #eab308 70%, #ef4444 85%, #ef4444 100%)"
          }} />
          <input
            type="range" min={25} max={80} value={age}
            onChange={e => setAge(Number(e.target.value))}
            style={{
              width: "100%", position: "relative", zIndex: 2, opacity: 0, height: 20, cursor: "pointer"
            }}
          />
          <div style={{
            position: "absolute", top: 1, width: 16, height: 16, borderRadius: "50%", background: "#fff",
            boxShadow: "0 2px 8px rgba(0,0,0,0.3)", border: "2px solid #94a3b8",
            left: `${((age - 25) / (80 - 25)) * 100}%`, transform: "translateX(-50%)", pointerEvents: "none", zIndex: 3
          }} />
        </div>
        <div style={{ display: "flex", justifyContent: "space-between" }}>
          <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b" }}>25 ‚Äî Higher Growth</span>
          <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b" }}>80 ‚Äî Higher Stability</span>
        </div>

        {/* Category Cards */}
        <div style={{ display: "flex", gap: 10, marginTop: 20 }}>
          {CATS.map(cat => <CategoryCard key={cat} cat={cat} pct={alloc[cat]} />)}
        </div>
      </div>

      {/* Charts Row */}
      <div style={{ display: "flex", gap: 14 }}>
        {/* Donut */}
        <div style={{
          flex: 1, background: "#1e293b", border: "1px solid #334155", borderRadius: 12, padding: 20
        }}>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 500, fontSize: 12, color: "#f1f5f9", marginBottom: 14 }}>
            ALLOCATION BREAKDOWN
          </div>
          <div style={{ display: "flex", justifyContent: "center" }}>
            <DonutChart data={CATS.map(cat => ({ pct: alloc[cat], color: CAT_META[cat].color }))} size={170} />
          </div>
          <div style={{ display: "flex", justifyContent: "center", gap: 14, marginTop: 14, flexWrap: "wrap" }}>
            {CATS.map(cat => (
              <div key={cat} style={{ display: "flex", alignItems: "center", gap: 5 }}>
                <div style={{ width: 8, height: 8, borderRadius: 2, background: CAT_META[cat].color }} />
                <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 9, color: "#94a3b8" }}>
                  {CAT_META[cat].label} {alloc[cat]}%
                </span>
              </div>
            ))}
          </div>
        </div>

        {/* Horizontal bars */}
        <div style={{
          flex: 1, background: "#1e293b", border: "1px solid #334155", borderRadius: 12, padding: 20
        }}>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 500, fontSize: 12, color: "#f1f5f9", marginBottom: 14 }}>
            COMPONENT COMPARISON
          </div>
          {CATS.map(cat => (
            <HorizontalBar key={cat} label={CAT_META[cat].label.split(" ")[0]} pct={alloc[cat]} color={CAT_META[cat].color} />
          ))}
        </div>
      </div>
    </div>
  );
}


// ‚îÄ‚îÄ‚îÄ TAB: PORTFOLIO TRACKER ‚îÄ‚îÄ‚îÄ
function TrackerTab() {
  const [totalPortfolio, setTotalPortfolio] = useState("");
  const [age, setAge] = useState(50);
  const [values, setValues] = useState({});
  const [reportDate, setReportDate] = useState(new Date().toISOString().slice(0, 7));
  const alloc = getAllocation(age);

  const total = Number(totalPortfolio) || 0;

  // Compute assets with targets
  const assets = ASSET_TEMPLATE.map(a => {
    const catPct = alloc[a.cat];
    const finalPct = catPct * a.splitPct / 100;
    const targetVal = total * finalPct / 100;
    const currentVal = Number(values[a.id]) || 0;
    const variance = currentVal - targetVal;
    return { ...a, finalPct, targetVal, currentVal, variance };
  });

  // Category aggregates
  const catSummary = {};
  CATS.forEach(cat => {
    const catAssets = assets.filter(a => a.cat === cat);
    const currentTotal = catAssets.reduce((s, a) => s + a.currentVal, 0);
    const targetTotal = catAssets.reduce((s, a) => s + a.targetVal, 0);
    const targetPct = alloc[cat];
    const currentPct = total > 0 ? (currentTotal / total) * 100 : 0;
    catSummary[cat] = { currentTotal, targetTotal, targetPct, currentPct, diff: currentPct - targetPct };
  });

  const actualTotal = assets.reduce((s, a) => s + a.currentVal, 0);

  const handleValueChange = (id, val) => {
    setValues(prev => ({ ...prev, [id]: val }));
  };

  const generatePDF = () => {
    // In production: call backend to generate PDF using reportlab
    // For demo: show what would be generated
    alert(
      `PDF Report would be generated:\n\n` +
      `Date: ${reportDate}\n` +
      `Total Portfolio: ${fmtINR(total)}\n` +
      `Age: ${age} (Band: ${getBand(age)})\n\n` +
      CATS.map(cat => `${cat}: ${catSummary[cat].currentPct.toFixed(1)}% (Target: ${catSummary[cat].targetPct}%)`).join("\n") +
      `\n\nISR: ${(catSummary.G.currentPct + catSummary.R.currentPct + catSummary.D.currentPct).toFixed(1)}%\n\n` +
      `In production, this triggers server-side PDF generation using ReportLab with the dark theme design.`
    );
  };

  return (
    <div>
      <div style={{ marginBottom: 6 }}>
        <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b", letterSpacing: 2, textTransform: "uppercase" }}>
          Portfolio Tracker
        </div>
        <h2 style={{ fontFamily: "'Lora', serif", fontSize: 26, color: "#f1f5f9", margin: "6px 0 4px", fontWeight: 500 }}>
          Asset Holdings
        </h2>
      </div>

      {/* Input Row */}
      <div style={{
        display: "flex", gap: 14, marginBottom: 18, flexWrap: "wrap"
      }}>
        <div style={{ flex: "1 1 200px" }}>
          <label style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b", display: "block", marginBottom: 4 }}>
            Total Portfolio Value (‚Çπ)
          </label>
          <input
            type="number" value={totalPortfolio} onChange={e => setTotalPortfolio(e.target.value)}
            placeholder="e.g. 3500000"
            style={{
              width: "100%", background: "#0f172a", border: "1px solid #475569", borderRadius: 8,
              padding: "10px 14px", color: "#f1f5f9", fontFamily: "'Poppins', sans-serif", fontSize: 13,
              outline: "none", boxSizing: "border-box"
            }}
          />
        </div>
        <div style={{ flex: "0 0 120px" }}>
          <label style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b", display: "block", marginBottom: 4 }}>
            Your Age
          </label>
          <input
            type="number" min={25} max={80} value={age} onChange={e => setAge(Number(e.target.value))}
            style={{
              width: "100%", background: "#0f172a", border: "1px solid #475569", borderRadius: 8,
              padding: "10px 14px", color: "#f1f5f9", fontFamily: "'Poppins', sans-serif", fontSize: 13,
              outline: "none", boxSizing: "border-box"
            }}
          />
        </div>
        <div style={{ flex: "0 0 140px" }}>
          <label style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b", display: "block", marginBottom: 4 }}>
            Report Month
          </label>
          <input
            type="month" value={reportDate} onChange={e => setReportDate(e.target.value)}
            style={{
              width: "100%", background: "#0f172a", border: "1px solid #475569", borderRadius: 8,
              padding: "10px 14px", color: "#f1f5f9", fontFamily: "'Poppins', sans-serif", fontSize: 13,
              outline: "none", boxSizing: "border-box"
            }}
          />
        </div>
      </div>

      {/* Asset Table */}
      <div style={{
        background: "#1e293b", border: "1px solid #334155", borderRadius: 12, overflow: "hidden"
      }}>
        {/* Table Header */}
        <div style={{
          display: "grid", gridTemplateColumns: "28px 1fr 100px 100px 80px 100px",
          gap: 8, padding: "10px 16px", background: "#162032", alignItems: "center"
        }}>
          {["", "Sub-Category", "Current (‚Çπ)", "Target (‚Çπ)", "Split %", "Variance"].map((h, i) => (
            <div key={i} style={{
              fontFamily: "'Poppins', sans-serif", fontWeight: 500, fontSize: 9, color: "#64748b",
              textAlign: i >= 2 ? "right" : "left"
            }}>{h}</div>
          ))}
        </div>

        {/* Rows grouped by category */}
        {CATS.map(cat => (
          <div key={cat}>
            {/* Category header */}
            <div style={{
              display: "flex", alignItems: "center", gap: 10, padding: "10px 16px",
              background: "#131c30", borderTop: "1px solid #2d3a4f"
            }}>
              <span style={{ fontFamily: "'Lora', serif", fontSize: 18, color: CAT_META[cat].color, fontWeight: 600 }}>{cat}</span>
              <span style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 500, fontSize: 11, color: "#f1f5f9" }}>
                {CAT_META[cat].label} ({alloc[cat]}%)
              </span>
              <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 9, color: "#64748b", marginLeft: "auto" }}>
                {CAT_META[cat].tag}
              </span>
            </div>

            {/* Asset rows */}
            {assets.filter(a => a.cat === cat).map((a, i) => (
              <div key={a.id} style={{
                display: "grid", gridTemplateColumns: "28px 1fr 100px 100px 80px 100px",
                gap: 8, padding: "8px 16px", alignItems: "center",
                background: i % 2 === 0 ? "transparent" : "#0f172a11",
                borderTop: "1px solid #1e293b"
              }}>
                <div>
                  <div style={{ width: 8, height: 8, borderRadius: "50%", background: CAT_META[cat].color }} />
                </div>
                <div>
                  <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 11, color: "#f1f5f9" }}>{a.name}</div>
                  <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 8, color: "#64748b" }}>{a.desc}</div>
                </div>
                <div>
                  <input
                    type="number"
                    value={values[a.id] || ""}
                    onChange={e => handleValueChange(a.id, e.target.value)}
                    placeholder="0"
                    style={{
                      width: "100%", background: "#0f172a", border: "1px solid #334155", borderRadius: 6,
                      padding: "6px 8px", color: "#f1f5f9", fontFamily: "'Poppins', sans-serif", fontSize: 11,
                      textAlign: "right", outline: "none", boxSizing: "border-box"
                    }}
                    onFocus={e => e.currentTarget.style.borderColor = "#3b82f6"}
                    onBlur={e => e.currentTarget.style.borderColor = "#334155"}
                  />
                </div>
                <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 11, color: "#94a3b8", textAlign: "right" }}>
                  {total > 0 ? fmtINR(a.targetVal) : "‚Äî"}
                </div>
                <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 11, color: "#94a3b8", textAlign: "right" }}>
                  {a.finalPct.toFixed(1)}%
                </div>
                <div style={{
                  fontFamily: "'Poppins', sans-serif", fontWeight: 500, fontSize: 11, textAlign: "right",
                  color: a.currentVal === 0 ? "#64748b" : a.variance >= 0 ? "#22c55e" : "#ef4444"
                }}>
                  {a.currentVal > 0 ? `${a.variance >= 0 ? "+" : ""}${fmtINR(a.variance)}` : "‚Äî"}
                </div>
              </div>
            ))}
          </div>
        ))}

        {/* Total row */}
        <div style={{
          display: "grid", gridTemplateColumns: "28px 1fr 100px 100px 80px 100px",
          gap: 8, padding: "12px 16px", background: "#162032", borderTop: "2px solid #334155", alignItems: "center"
        }}>
          <div />
          <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 700, fontSize: 12, color: "#f1f5f9" }}>
            TOTAL
          </div>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 700, fontSize: 12, color: "#f1f5f9", textAlign: "right" }}>
            {fmtINR(actualTotal)}
          </div>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 700, fontSize: 12, color: "#94a3b8", textAlign: "right" }}>
            {fmtINR(total)}
          </div>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 11, color: "#94a3b8", textAlign: "right" }}>100%</div>
          <div style={{
            fontFamily: "'Poppins', sans-serif", fontWeight: 700, fontSize: 12, textAlign: "right",
            color: actualTotal - total >= 0 ? "#22c55e" : "#ef4444"
          }}>
            {actualTotal > 0 ? fmtINR(actualTotal - total) : "‚Äî"}
          </div>
        </div>
      </div>

      {/* Category Summary Cards */}
      <div style={{ display: "flex", gap: 10, marginTop: 18 }}>
        {CATS.map(cat => {
          const s = catSummary[cat];
          return (
            <div key={cat} style={{
              flex: 1, background: "#1e293b", border: "1px solid #334155", borderRadius: 10, padding: 14
            }}>
              <div style={{ display: "flex", alignItems: "center", gap: 6, marginBottom: 8 }}>
                <span style={{ fontFamily: "'Lora', serif", fontSize: 18, color: CAT_META[cat].color }}>{cat}</span>
                <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 8, color: "#64748b" }}>{CAT_META[cat].label}</span>
              </div>
              <div style={{ display: "flex", alignItems: "baseline", gap: 6 }}>
                <span style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 700, fontSize: 16, color: "#f1f5f9" }}>
                  {s.currentPct.toFixed(1)}%
                </span>
                <span style={{
                  fontFamily: "'Poppins', sans-serif", fontWeight: 500, fontSize: 10,
                  color: s.diff >= 0 ? "#22c55e" : "#ef4444"
                }}>
                  {s.diff >= 0 ? "+" : ""}{s.diff.toFixed(2)}%
                </span>
              </div>
              <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 9, color: "#64748b", marginTop: 4 }}>
                Target: {s.targetPct}%
              </div>
              <div style={{ width: "100%", height: 3, background: "#2d3a4f", borderRadius: 2, marginTop: 6, overflow: "hidden" }}>
                <div style={{ width: `${Math.min((s.currentPct / 55) * 100, 100)}%`, height: "100%", background: CAT_META[cat].color, borderRadius: 2, transition: "width 0.4s" }} />
              </div>
            </div>
          );
        })}
      </div>

      {/* Generate PDF Button */}
      <div style={{ textAlign: "center", marginTop: 24 }}>
        <button
          onClick={generatePDF}
          disabled={total === 0}
          style={{
            background: total > 0 ? "linear-gradient(135deg, #3b82f6, #2563eb)" : "#334155",
            color: total > 0 ? "#fff" : "#64748b",
            border: "none", borderRadius: 12, padding: "14px 40px", fontSize: 14, fontWeight: 600,
            cursor: total > 0 ? "pointer" : "not-allowed",
            fontFamily: "'Poppins', sans-serif", transition: "transform 0.15s",
            boxShadow: total > 0 ? "0 4px 20px rgba(59,130,246,0.3)" : "none"
          }}
        >
          üìÑ Generate PDF Report
        </button>
        <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b", marginTop: 6 }}>
          Download a professional report for your financial advisor
        </div>
      </div>
    </div>
  );
}


// ‚îÄ‚îÄ‚îÄ TAB: ISR ANALYSIS ‚îÄ‚îÄ‚îÄ
function ISRTab() {
  const [age, setAge] = useState(50);
  const alloc = getAllocation(age);
  const band = getBand(age);
  const isr = alloc.G + alloc.R + alloc.D;
  const growth = alloc.E;

  return (
    <div>
      <div style={{ marginBottom: 6 }}>
        <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b", letterSpacing: 2, textTransform: "uppercase" }}>
          Income-Stability Ratio
        </div>
        <h2 style={{ fontFamily: "'Lora', serif", fontSize: 26, color: "#f1f5f9", margin: "6px 0 4px", fontWeight: 500 }}>
          ISR Analysis
        </h2>
        <p style={{ fontFamily: "'Poppins', sans-serif", fontSize: 12, color: "#94a3b8", margin: 0 }}>
          ISR = (G + R + D) / Total ‚Äî measures the stable/income portion of your portfolio
        </p>
      </div>

      {/* Gauge Card */}
      <div style={{
        background: "#1e293b", border: "1px solid #334155", borderRadius: 12, padding: "20px 28px",
        margin: "18px 0", textAlign: "center"
      }}>
        <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 500, fontSize: 13, color: "#f1f5f9", marginBottom: 10, textAlign: "left" }}>
          Portfolio Stability Gauge
        </div>
        <div style={{ display: "flex", alignItems: "center", gap: 10, marginBottom: 10 }}>
          <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b" }}>Age:</span>
          <input
            type="range" min={25} max={80} value={age}
            onChange={e => setAge(Number(e.target.value))}
            style={{ flex: 1, cursor: "pointer", accentColor: "#3b82f6" }}
          />
          <span style={{
            fontFamily: "'Poppins', sans-serif", fontWeight: 600, fontSize: 14, color: "#f1f5f9",
            background: "#0f172a", padding: "4px 12px", borderRadius: 8, minWidth: 30, textAlign: "center"
          }}>{age}</span>
        </div>
        <GaugeChart value={isr} size={260} />
        <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 700, fontSize: 32, color: "#f1f5f9", marginTop: -10 }}>
          {isr}%
        </div>
        <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 11, color: "#64748b" }}>
          Income-Stability Ratio
        </div>
        <div style={{ display: "flex", justifyContent: "space-between", marginTop: 10 }}>
          <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#ef4444" }}>Volatile</span>
          <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#22c55e" }}>Stable</span>
        </div>
      </div>

      {/* Stable vs Growth */}
      <div style={{ display: "flex", gap: 14, marginBottom: 18 }}>
        <div style={{
          flex: 1, background: "#1e293b", border: "1px solid #334155", borderRadius: 12, padding: 24, textAlign: "center"
        }}>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 700, fontSize: 36, color: "#22c55e" }}>{isr}%</div>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 500, fontSize: 11, color: "#94a3b8", marginTop: 4 }}>STABLE (G + R + D)</div>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 9, color: "#64748b", marginTop: 2 }}>Income-generating assets</div>
        </div>
        <div style={{
          flex: 1, background: "#1e293b", border: "1px solid #334155", borderRadius: 12, padding: 24, textAlign: "center"
        }}>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 700, fontSize: 36, color: "#f59e0b" }}>{growth}%</div>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 500, fontSize: 11, color: "#94a3b8", marginTop: 4 }}>GROWTH (E)</div>
          <div style={{ fontFamily: "'Poppins', sans-serif", fontSize: 9, color: "#64748b", marginTop: 2 }}>Equity / volatile assets</div>
        </div>
      </div>

      {/* Age Matrix */}
      <div style={{
        background: "#1e293b", border: "1px solid #334155", borderRadius: 12, overflow: "hidden"
      }}>
        <div style={{ padding: "14px 16px", borderBottom: "1px solid #2d3a4f" }}>
          <span style={{ fontFamily: "'Poppins', sans-serif", fontWeight: 500, fontSize: 12, color: "#f1f5f9" }}>
            Age-Based Allocation Matrix
          </span>
          <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#3b82f6", marginLeft: 10 }}>
            Current band: {band}
          </span>
        </div>
        {/* Header */}
        <div style={{
          display: "grid", gridTemplateColumns: "90px 1fr 1fr 1fr 1fr", gap: 0, padding: "8px 16px",
          background: "#162032"
        }}>
          {["Age Band", "G (Gold)", "R (Real Est.)", "D (Debt)", "E (Equity)"].map((h, i) => (
            <div key={i} style={{
              fontFamily: "'Poppins', sans-serif", fontWeight: 500, fontSize: 10,
              color: ["#64748b", "#eab308", "#ef4444", "#3b82f6", "#22c55e"][i]
            }}>{h}</div>
          ))}
        </div>
        {AGE_BANDS.map((row, i) => {
          const isCurrent = row.range === band;
          return (
            <div key={i} style={{
              display: "grid", gridTemplateColumns: "90px 1fr 1fr 1fr 1fr", gap: 0, padding: "7px 16px",
              background: isCurrent ? "#1e3a5f" : i % 2 === 0 ? "transparent" : "#131c30",
              borderLeft: isCurrent ? "3px solid #3b82f6" : "3px solid transparent"
            }}>
              <div style={{
                fontFamily: "'Poppins', sans-serif", fontWeight: isCurrent ? 700 : 400, fontSize: 11,
                color: isCurrent ? "#3b82f6" : "#94a3b8"
              }}>
                {isCurrent ? "‚ñ∏ " : ""}{row.range}
              </div>
              {CATS.map(cat => (
                <div key={cat} style={{
                  fontFamily: "'Poppins', sans-serif", fontWeight: isCurrent ? 700 : 400, fontSize: 11,
                  color: isCurrent ? "#f1f5f9" : "#94a3b8"
                }}>{row[cat]}%</div>
              ))}
            </div>
          );
        })}
      </div>
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ MAIN APP ‚îÄ‚îÄ‚îÄ
function GRDEApp() {
  const [activeTab, setActiveTab] = useState("allocator");
  const [isUnlocked, setIsUnlocked] = useState(false);

  const handleTabChange = (tab) => {
    setActiveTab(tab);
  };

  return (
    <div style={{
      minHeight: "100vh", background: "#0f172a",
      fontFamily: "'Poppins', sans-serif"
    }}>
      <style>{`
        @import url('https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap');
        * { box-sizing: border-box; margin: 0; padding: 0; }
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type="number"] { -moz-appearance: textfield; }
        input[type="range"] { -webkit-appearance: auto; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
      `}</style>

      <Header />

      <main style={{ maxWidth: 900, margin: "0 auto", padding: "0 24px 40px" }}>
        <TabBar active={activeTab} onChange={handleTabChange} isUnlocked={isUnlocked} />

        <div style={{ marginTop: 20, position: "relative" }}>
          {activeTab === "allocator" && <AllocatorTab />}

          {activeTab === "tracker" && (
            <div style={{ position: "relative", minHeight: 400 }}>
              <div style={{ filter: isUnlocked ? "none" : "blur(6px)", pointerEvents: isUnlocked ? "auto" : "none" }}>
                <TrackerTab />
              </div>
              {!isUnlocked && <LockOverlay onUnlock={() => setIsUnlocked(true)} />}
            </div>
          )}

          {activeTab === "isr" && (
            <div style={{ position: "relative", minHeight: 400 }}>
              <div style={{ filter: isUnlocked ? "none" : "blur(6px)", pointerEvents: isUnlocked ? "auto" : "none" }}>
                <ISRTab />
              </div>
              {!isUnlocked && <LockOverlay onUnlock={() => setIsUnlocked(true)} />}
            </div>
          )}
        </div>

        {/* Footer */}
        <div style={{
          borderTop: "1px solid #2d3a4f", marginTop: 32, paddingTop: 16,
          display: "flex", justifyContent: "space-between"
        }}>
          <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b" }}>
            GRDE Engine v2.1 ‚Äî An Architect's Blueprint for Wealth
          </span>
          <span style={{ fontFamily: "'Poppins', sans-serif", fontSize: 10, color: "#64748b" }}>
            by Shakhith A.M. | i3d Studio, Coimbatore
          </span>
        </div>
      </main>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(GRDEApp));
    </script>
</body>
</html>
